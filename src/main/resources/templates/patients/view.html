<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Patient Details</title>
  <link href="../../static/css/single_view.css" rel="stylesheet">
  <script src="../../static/js/single_view.js"></script>

</head>
<body>
<div class="terminal">
        <pre class="title">
██████╗░███████╗████████╗░█████╗░██╗██╗░░░░░░██████╗
██╔══██╗██╔════╝╚══██╔══╝██╔══██╗██║██║░░░░░██╔════╝
██║░░██║█████╗░░░░░██║░░░███████║██║██║░░░░░╚█████╗░
██║░░██║██╔══╝░░░░░██║░░░██╔══██║██║██║░░░░░░╚═══██╗
██████╔╝███████╗░░░██║░░░██║░░██║██║███████╗██████╔╝
╚═════╝░╚══════╝░░░╚═╝░░░╚═╝░░╚═╝╚═╝╚══════╝╚═════╝░
        </pre>
  <h1>Patient Details</h1>
  <p>ID: <span th:text="${patient.id}"></span></p>
  <p>First Name: <span th:text="${patient.first_name}"></span></p>
  <p>Last Name: <span th:text="${patient.last_name}"></span></p>
  <p>Day of Birth: <span th:text="${patient.dob}"></span></p>

  <!-- Editable Diagnosis Field -->
  <form th:action="@{'/update-diagnosis/' + ${patient.id}}" method="post" id="updateDiagnosisForm" >
    <p>Diagnosis: <input type="text" th:value="${patient.diagnosis}" name="diagnosis"></p>
    <button type="submit" onclick="confirm('Data successfully updated.');">Update Diagnosis</button>
  </form>
<!--  <script src="js/single_view.js"></script>-->

<!--  <script>-->
<!--    document.getElementById('updateDiagnosisForm').addEventListener('submit', function(event) {-->
<!--      event.preventDefault();-->
<!--      const formData = new FormData(this);-->
<!--      const xhr = new XMLHttpRequest();-->
<!--      xhr.open('POST', this.action, true);-->
<!--      xhr.send(formData);-->
<!--    });-->
<!--  </script>-->

  <a href="/list" >Back to Patient List</a>
</div>
</body>
</html>

