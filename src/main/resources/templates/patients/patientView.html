<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Patient Details</title>
</head>
<body style="background-color: #1d1f21; font-family: 'Courier New', Courier, monospace; color: #c5c8c6; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0;">

<div class="terminal" style="background-color: #1d1f21; border: 2px solid #c5c8c6; border-radius: 5px; padding: 20px; text-align: center;">
    <pre class="title" style="color: #c5c8c6; font-size: 24px; margin-bottom: 20px;">

██████╗░███████╗████████╗░█████╗░██╗██╗░░░░░░██████╗
██╔══██╗██╔════╝╚══██╔══╝██╔══██╗██║██║░░░░░██╔════╝
██║░░██║█████╗░░░░░██║░░░███████║██║██║░░░░░╚█████╗░
██║░░██║██╔══╝░░░░░██║░░░██╔══██║██║██║░░░░░░╚═══██╗
██████╔╝███████╗░░░██║░░░██║░░██║██║███████╗██████╔╝
╚═════╝░╚══════╝░░░╚═╝░░░╚═╝░░╚═╝╚═╝╚══════╝╚═════╝░
    </pre>
  <h1 style="color: #c5c8c6;">Patient Details</h1>
  <p>ID: <span th:text="${patient.id}" style="color: #c5c8c6;"></span></p>
  <p>First Name: <span th:text="${patient.first_name}" style="color: #c5c8c6;"></span></p>
  <p>Last Name: <span th:text="${patient.last_name}" style="color: #c5c8c6;"></span></p>
  <p>Day of Birth: <span th:text="${patient.dob}" style="color: #c5c8c6;"></span></p>

  <!-- Editable Diagnosis Field -->
  <form th:action="@{'/update-diagnosis/' + ${patient.id}}" method="post" id="updateDiagnosisForm">
    <p style="color: #c5c8c6;">Diagnosis: <input type="text" th:value="${patient.diagnosis}" name="diagnosis" style="background-color: #1d1f21; border: 2px solid #c5c8c6; color: #c5c8c6;"></p>
    <button type="submit" style="padding: 10px 20px; background-color: #c5c8c6; color: #1d1f21; text-decoration: none; border: 2px solid #c5c8c6; border-radius: 5px; font-size: 16px; margin: 10px; transition: background-color 0.3s, color 0.3s; cursor: pointer;">Update Diagnosis</button>
  </form>

  <!-- JavaScript to change the form method to PUT -->
  <script>
    document.getElementById('updateDiagnosisForm').addEventListener('submit', function(event) {
      event.preventDefault();
      const formData = new FormData(this);
      const xhr = new XMLHttpRequest();
      xhr.open('PUT', this.action, true);
      xhr.send(formData);
    });
  </script>

  <a href="/patients" style="display: inline-block; padding: 10px 20px; background-color: #c5c8c6; color: #1d1f21; text-decoration: none; border: 2px solid #c5c8c6; border-radius: 5px; font-size: 16px; margin: 10px; transition: background-color 0.3s, color 0.3s; cursor: pointer;">Back to Patient List</a>

</div>
</body>
</html>
